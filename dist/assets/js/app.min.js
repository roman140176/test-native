!function(){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(){o.classList.toggle("active"),a.classList.toggle("active")}var o=document.querySelector(".product-box__select"),a=o.querySelector(".product-box__sizes"),c=a.querySelectorAll(".product-box__radio"),u=o.querySelector(".product-box__select-name");function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e(t,n){t.forEach(function(e){e.addEventListener("click",function(e){n.innerHTML=e.currentTarget.querySelector("picture").innerHTML,f(t),e.currentTarget.classList.add("active")})})}var t=document.querySelectorAll(".product-box__thumnbale"),d=document.querySelector(".product-box__img").querySelector("picture"),v=document.querySelector(".styled__main").querySelector("picture"),m=document.querySelectorAll(".styled__image"),f=function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;)t.value.classList.remove("active")}catch(e){n.e(e)}finally{n.f()}};function y(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}var p=document.querySelector(".product-box__addCart"),g=document.querySelector(".product-box__favorite"),b=document.querySelector(".product-box__quantity-input"),L=(parseInt(b.value),document.querySelector(".product-box__img").querySelector("picture")),_=document.querySelector(".product-box__title").textContent,S=document.querySelector(".product-box__price-new").innerHTML,h="0",q=document.createElement("div");q.classList.add("modal-notify");var E=document.createElement("div");E.classList.add("backdrop");function x(e){return O.test(e)}var w,A,T=function(){var i,e=(i=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E.remove(),q.classList.remove("closed"),q.remove(),q.innerHTML="",document.body.classList.remove("overfolow");case 5:case"end":return e.stop()}},e)}),function(){var e=this,c=arguments;return new Promise(function(t,n){var r=i.apply(e,c);function o(e){y(r,t,n,o,a,"next",e)}function a(e){y(r,t,n,o,a,"throw",e)}o(void 0)})});return function(){return e.apply(this,arguments)}}(),I=document.querySelector(".product-box__increment"),k=document.querySelector(".product-box__decriment"),j=document.querySelector(".product-box__quantity-input"),M=100,C=document.querySelector(".footer__form"),H=document.querySelector(".footer__form-input"),z=document.querySelector(".email-error"),O=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/,D=document.querySelector(".header__toggler"),N=document.querySelector(".menu-mobile"),$=document.querySelector(".menu-mobile__close");e(t,d),e(m,v),function(){o.addEventListener("click",function(e){r()}),document.addEventListener("click",function(e){var t=e.target,n=t==o||o.contains(t),e=t==a,t=o.classList.contains("active");n||e||!t||r()});var e,t=n(c);try{for(t.s();!(e=t.n()).done;)e.value.addEventListener("change",function(e){u.textContent=e.target.value,o.classList.remove("active"),a.classList.remove("active")})}catch(e){t.e(e)}finally{t.f()}}(),p.addEventListener("click",function(e){T(),function(e){e=e.currentTarget.dataset.widget,e=document.querySelector(e);parseInt(b.value),h=e.textContent,e.innerHTML=+h+parseInt(b.value),e.classList.add("active")}(e);e='<div class="modal-content">\n                                        <div class="modal-img">\n                                            '.concat(L.outerHTML,'\n                                        </div>\n                                        <div class="modal-info">\n                                            <h3>Вы купили <strong>').concat(_,"</strong></h3>\n                                            <p>").concat(+h+parseInt(b.value),' шт. по цене:<span class="modal-price">').concat(S,'</span></p>\n\n                                            <div class="modal-buttons">\n                                                <span class="modal-close">Продолжить покупки</span>\n                                                <span class="modal-cart-redirect">Перейти в корзину</span>\n                                            </div>\n                                            \n                                        </div>\n                                    </div>');q.insertAdjacentHTML("afterbegin",e),E.insertAdjacentElement("beforeend",q),document.body.insertAdjacentElement("beforeend",E),document.body.classList.add("overfolow")}),document.addEventListener("click",function(e){"modal-close"!==e.target.className&&"backdrop"!==e.target.className||(document.querySelector("body .modal-notify").classList.add("closed"),setTimeout(function(){T()},500))}),g.addEventListener("click",function(e){var t=e.currentTarget.dataset.widget,e=document.querySelector(t);h=e.textContent;t='<div class="modal-content modal-content--favorite">\n                                        <div class="modal-favorite">\n                                            <h3>\n                                            '.concat(e.classList.contains("active")?"Успешно удалено из избранных":"Товар добавлен в избранные","\n                                            </h3>\n                                        </div>\n                                    </div>");e.classList.contains("active")?e.innerHTML=+h-1:e.innerHTML=+h+1,e.classList.toggle("active"),q.insertAdjacentHTML("afterbegin",t),E.insertAdjacentElement("beforeend",q),document.body.insertAdjacentElement("beforeend",E),document.body.classList.add("overfolow"),setTimeout(function(){T()},3e3)}),j.addEventListener("input",function(e){var t=e.target.value;e.target.value=t.replace(/\D/g,""),parseInt(t)>M&&(e.target.value=M),parseInt(t)<1&&(e.target.value=1)}),j.addEventListener("blur",function(e){var t=e.target.value;e.target.value=t.replace(/\D/g,""),(!e.target.value||e.target.value<1)&&(e.target.value=1)}),I.addEventListener("click",function(e){j.value=parseInt(j.value)+1,parseInt(j.value)>M&&(j.value=M)}),k.addEventListener("click",function(e){1<parseInt(j.value)&&(j.value=parseInt(j.value)-1)}),C.addEventListener("submit",function(e){e.preventDefault();e=H.value;x(e)||(z.textContent="Не корректный email адрес")}),H.addEventListener("input",function(){z.textContent=""}),H.addEventListener("blur",function(e){x(e.target.value)||(z.textContent="Не корректный email адрес"),e.target.value||(z.textContent="")}),w=0,A=document.querySelector(".header"),window.addEventListener("scroll",function(e){var t=document.documentElement.scrollTop;w<t?A.classList.add("faded"):A.classList.remove("faded"),w=t}),D.addEventListener("click",function(){N.classList.add("active")}),$.addEventListener("click",function(){N.classList.remove("active")}),document.addEventListener("mouseup",function(e){"header__toggler"!=e.target.className&&N.classList.remove("active")})}();